(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/filecoin-logo.346c3e5d.svg"},,,function(e,a,t){e.exports=t.p+"static/media/gold.c47082ef.png"},function(e,a,t){e.exports=t.p+"static/media/silver.f6a621b7.png"},function(e,a,t){e.exports=t.p+"static/media/bronze.486ada9a.png"},function(e,a,t){e.exports=t.p+"static/media/gold-ribbon.86fe424e.png"},function(e,a,t){e.exports=t.p+"static/media/silver-ribbon.e694d2b3.png"},function(e,a,t){e.exports=t.p+"static/media/bronze-ribbon.191e8a6b.png"},function(e,a,t){e.exports=t.p+"static/media/proof-DrgPoRep.9d6b5bb2.svg"},function(e,a,t){e.exports=t.p+"static/media/proof-Zigzag.6e939b4e.svg"},function(e,a,t){e.exports=t.p+"static/media/proof-Unknown.d46fcfb9.svg"},,,,,function(e,a,t){e.exports=t(39)},,,,,,function(e,a,t){},,,,,,,,function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(4),s=t.n(l),c=(t(31),t(1)),m=t.n(c),i=t(5),o=t(6),p=t(7),d=t(22),b=t(8),u=t(23),f=t(24),g=t(9),v=t.n(g),E=t(21),h=t(10),y=t.n(h),N=t(11),w=t.n(N),k=t(12),x=t.n(k),R=t(13),P=t.n(R),C=t(14),T=t.n(C),z=t(15),B=t.n(z),M=t(16),j=t.n(M),O=t(17),D=t.n(O),_=t(18),L=t.n(_),A=t(19),S=t.n(A),I=t(20),U=t.n(I),F=function(e){var a=e.name,t=e.className,r=void 0===t?"mr3 v-mid":t,l=e.size,s=void 0===l?60:l;return n.a.createElement("img",{src:"https://github.com/".concat(a,".png?size=").concat(s),className:r,style:{width:s/2,height:s/2},alt:"".concat(a," avatar"),onError:function(e){e.target.src="https://www.gravatar.com/avatar/".concat(w()(a),"?d=retro&s=").concat(s)}})},G=function(e){var a=e.time;return n.a.createElement("span",{className:"dib f5 fr bg-snow black pa2 br3 lh-solid tr courier ml3"},a.toFixed(3))},V=function(e){var a=e.name,t=e.time,r=e.medal;return n.a.createElement("div",{className:"flex",title:"".concat(a," took ").concat(t.toFixed(3),"s to replicate 1MiB of data")},n.a.createElement(F,{name:a}),n.a.createElement("span",{className:"fw5 montserrat white truncate flex-auto"},a),r?n.a.createElement(Z,{type:r}):null,n.a.createElement(G,{time:t}))},Z=function(e){var a=e.type,t={gold:x.a,goldRibbon:B.a,silver:P.a,silverRibbon:j.a,bronze:T.a,bronzeRibbon:D.a},r=["gold","silver","bronze"].includes(a)?{width:45,height:45,top:-6,right:0}:{width:45,height:84,top:-19,right:0};return n.a.createElement("div",{className:"relative w3-ns"},n.a.createElement("img",{src:t[a],alt:a,className:"absolute dn db-m db-l",style:r}))},H=function(e){var a=e.typ,t=e.className,r=U.a;return"DrgPoRep"===a?r=L.a:"Zigzag"===a&&(r=S.a),n.a.createElement("img",{src:r,alt:"icon by Eliricon from the Noun Project",width:"50",height:"50",className:t})},J={DrgPoRep:"Depth Robust Graph Proof-of-Replication",Zigzag:"Specialized Layered Depth Robust Graph Proof-of-Replication"},q=function(e){var a=e.params;return n.a.createElement("div",{className:"pl4"},n.a.createElement("h2",{className:"montserrat fw2 mv3",title:J[a.typ]||""},n.a.createElement("span",{className:"dib w5"},n.a.createElement(H,{className:"mr2 v-mid",typ:a.typ}),n.a.createElement("span",{className:"v-mid mr5"},a.typ)),n.a.createElement("span",{className:"dib v-mid",style:{lineHeight:"50px"}},y()(a.size).format("0,0")," ",n.a.createElement("small",{className:"gray"},"bytes"))),n.a.createElement("ul",{className:"montserrat f6 fw2 list mv3 pl0"},n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"Challenges")," ",a.challenge_count),n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"VDE")," ",a.vde),n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"Degree")," ",a.degree),n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"Expansion degree")," ",a.expansion_degree),n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"Layers")," ",a.layers)))},K=function(e){var a=e.entries,t=e.onExpand,r=a.slice(0,3),l=a.slice(3);return n.a.createElement("div",{className:"mb4 pv1 ph1 br3 shadow-3",style:{backgroundColor:"#1E2135"}},n.a.createElement(q,{params:r[0].params}),n.a.createElement("div",{className:"pr4 fr",style:{marginTop:"-2.25rem"}},n.a.createElement("div",{className:"f7 f6-m f6-l mt1 montserrat fw2 gray"},"Repl time (s/MiB)")),n.a.createElement("ol",{className:"ma0 lh-copy mw7 mb3 pl3 center db gray",style:{listStyleType:"decimal"}},r.slice(0,1).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mh3 pa3 b--gold b--solid bw1 br3 br--top shadow-1",style:{backgroundColor:"rgba(255, 183, 0, 0.75)"}},n.a.createElement(V,{name:t,time:r,medal:"gold"}))}),r.slice(1,2).map(function(e){var a=e.id,t=e.prover,l=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mh3 pa3 b--silver b--solid bw1 relative shadow-1 ".concat(2===r.length?"br3 br--bottom":""),style:{backgroundColor:"rgba(153, 153, 153, 0.75)"}},n.a.createElement(V,{name:t,time:l,medal:"silver"}))}),r.slice(2,3).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mh3 pa3 b--solid bw1 br3 br--bottom shadow-1",style:{borderColor:"#cd7f32",backgroundColor:"rgba(205, 127, 50, 0.75)"}},n.a.createElement(V,{name:t,time:r,medal:"bronze"}))})),l.length?n.a.createElement("div",{className:"tc mb3"},n.a.createElement("button",{type:"button",className:"montserrat f6 fw2 gray bw0 br3 ph3 pv2 bg-black-10 hover-bg-black-30 pointer",onClick:t},"Show ",l.length," more")):null)},Q=function(e){var a=e.entries,t=e.onCollapse;return n.a.createElement("div",{className:"mb4 pv1 ph1 br3",style:{backgroundColor:"#1E2135"}},n.a.createElement(q,{params:a[0].params}),n.a.createElement("div",{className:"pr4 fr",style:{marginTop:"-2.25rem"}},n.a.createElement("div",{className:"f7 f6-m f6-l mt1 montserrat fw2 gray"},"Repl time (s/MiB)")),n.a.createElement("ol",{className:"ma0 lh-copy mw7 mb3 pl3 center db gray",style:{listStyleType:"decimal"}},a.slice(0,1).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mh3 pa3 b--gold b--solid bw1 br3 shadow-1",style:{backgroundColor:"rgba(255, 183, 0, 0.75)"}},n.a.createElement(V,{name:t,time:r,medal:"goldRibbon"}))}),a.slice(1,2).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mt4 mh3 pa3 b--silver b--solid bw1 br3 shadow-1",style:{backgroundColor:"rgba(153, 153, 153, 0.75)"}},n.a.createElement(V,{name:t,time:r,medal:"silverRibbon"}))}),a.slice(2,3).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mt4 mh3 mb4 pa3 b--solid bw1 br3 shadow-1",style:{borderColor:"#cd7f32",backgroundColor:"rgba(205, 127, 50, 0.75)"}},n.a.createElement(V,{name:t,time:r,medal:"bronzeRibbon"}))}),a.slice(3).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl mt3 mh3 ph3 f4"},n.a.createElement(V,{name:t,time:r}))})),n.a.createElement("div",{className:"tc mb3"},n.a.createElement("button",{type:"button",className:"montserrat f6 fw2 gray bw0 br3 ph3 pv2 bg-black-10 hover-bg-black-30 pointer",onClick:t},"Minimise")))},W=function(e){var a=e.entries,t=Object(r.useState)(!1),l=Object(E.a)(t,2),s=l[0],c=l[1];return s?n.a.createElement(Q,{entries:a,onCollapse:function(){return c(!1)}}):n.a.createElement(K,{entries:a,onExpand:function(){return c(!0)}})},X=Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_API_URL:"/api/leaderboard"}).REACT_APP_REFRESH_INTERVAL||1e4,Y=function(){return n.a.createElement("header",{className:"mw7 center"},n.a.createElement("h1",{className:"ma0 pv4 fw2 f1 montserrat tc"},n.a.createElement("img",{src:v.a,alt:"fil",width:"80",className:"db dib-l center mb3 mb0-l ml0-l mr4-l v-mid"}),n.a.createElement("span",{className:"v-mid"},"Replication Game")))};var $=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(d.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(n)))).state={},t}return Object(u.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=function(){var t=Object(i.a)(m.a.mark(function t(){var r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/leaderboard");case 3:if((r=t.sent).ok){t.next=6;break}throw new Error("unexpected status ".concat(r.status));case 6:return t.t0=e,t.next=9,r.json();case 9:t.t1=t.sent,t.t2={leaderboardData:t.t1},t.t0.setState.call(t.t0,t.t2),t.next=17;break;case 14:t.prev=14,t.t3=t.catch(0),console.error("failed to fetch leaderboard data",t.t3);case 17:return t.prev=17,setTimeout(a,X),t.finish(17);case 20:case"end":return t.stop()}},t,this,[[0,14,17,20]])}));return function(){return t.apply(this,arguments)}}();a()}},{key:"render",value:function(){var e=this.state.leaderboardData;if(!e)return n.a.createElement("div",{className:"sans-serif white"},n.a.createElement(Y,null),n.a.createElement("main",{className:"tc"},n.a.createElement("p",null,"Loading...")));var a=function(e){var a=(e=e.map(function(e){return Object(f.a)({},e,{secondsPerMBTime:e.repl_time/(e.params.size/1048576)})})).reduce(function(e,a){return e[a.params.id]=(e[a.params.id]||[]).concat(a),e},{});return Object.values(a).filter(function(e){return e.length>1}).sort(function(e,a){return a.length-e.length}).map(function(e){return e.sort(function(e,a){return e.secondsPerMBTime-a.secondsPerMBTime})})}(e);return n.a.createElement("div",{className:"sans-serif white"},n.a.createElement(Y,null),n.a.createElement("main",null,n.a.createElement("div",{className:"mw7 pl3 center pb2 cf"},n.a.createElement("h2",{className:"f4 f3-m f3-l mv3 pl4-m pl4-l tc tl-m tl-l montserrat fw2 ttu fl-m fl-l"},"Leaderboards")),n.a.createElement("div",{className:"mw7 pl3 center pb2 cf"},a.map(function(e){return n.a.createElement(W,{entries:e})}))))}}]),a}(r.Component);s.a.render(n.a.createElement($,null),document.getElementById("root"))}],[[25,2,1]]]);
//# sourceMappingURL=main.09b6c35c.chunk.js.map