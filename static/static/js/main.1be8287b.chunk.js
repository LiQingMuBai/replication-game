(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,a,t){e.exports=t.p+"static/media/filecoin-logo.346c3e5d.svg"},,,,,,,function(e,a,t){e.exports=t.p+"static/media/gold.c47082ef.png"},function(e,a,t){e.exports=t.p+"static/media/silver.f6a621b7.png"},function(e,a,t){e.exports=t.p+"static/media/bronze.486ada9a.png"},function(e,a,t){e.exports=t.p+"static/media/gold-ribbon.86fe424e.png"},function(e,a,t){e.exports=t.p+"static/media/silver-ribbon.e694d2b3.png"},function(e,a,t){e.exports=t.p+"static/media/bronze-ribbon.191e8a6b.png"},function(e,a,t){e.exports=t.p+"static/media/proof-DrgPoRep.9d6b5bb2.svg"},function(e,a,t){e.exports=t.p+"static/media/proof-Zigzag.6e939b4e.svg"},function(e,a,t){e.exports=t.p+"static/media/proof-Unknown.d46fcfb9.svg"},,,,function(e,a,t){e.exports=t(39)},,,,,function(e,a,t){},,,,,,,,function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(6),o=t.n(l),c=(t(31),t(1)),i=t(7),m=t.n(i),s=function(e){var a=e.onShowLeaderboard;return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"mw7 center pb3 montserrat gray f6 fw2 lh-copy"},n.a.createElement("h2",{className:"f4 fw2 mv3 white ttu"},n.a.createElement("span",{role:"img","aria-label":"icon for introduction"},"\ud83d\udcd6")," Introduction"),n.a.createElement("h3",{className:"f5 fw2 mt4 mb3 white"},"What is this game?"),n.a.createElement("p",null,"The Replication Game is a competition where participants compete to outperform the default implementation of Proof-of-Replication. To participate in the game, you can run the current replication algorithm (or your own implementation) and post your proof on our server."),n.a.createElement("h3",{className:"f5 fw2 mt4 mb3 white"},"What is Proof-of-Replication?"),n.a.createElement("p",null,"Proof of Replication is the proof that:"),n.a.createElement("ol",null,n.a.createElement("li",null,"the Filecoin Storage Market is secure: it ensures that miners cannot lie about storing users' data"),n.a.createElement("li",null," the Filecoin Blockchain is secure: it ensures that miners cannot lie about the amount of storage they have (remember, miners win blocks based on their storage power!).")),n.a.createElement("p",null,'In Filecoin, we use the Proof of Replication inside "Sealing" during mining.'),n.a.createElement("h3",{className:"f5 fw2 mt4 mb3 white"},"How does Proof of Replication work?"),n.a.createElement("p",null,"The intuition behind Proof of Replication is the following: the data from the Filecoin market is encoded via a slow sequential computation that cannot be parallelized."),n.a.createElement("h3",{className:"f5 fw2 mt4 mb3 white"},"How can I climb up in the leaderboard?"),n.a.createElement("p",null,'There are some strategies to replicate "faster", some are practical (software and hardware optimizations), some are believe to be impractical or impossible (get ready to win a price and be remembered in the history of cryptography if you do so!)'),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("i",null,"Practical attempts:")," Implement a faster replication algorithm with better usage of memory, optimize some parts of the algorithm (e.g. Pedersen, Blake2s) in hardware (e.g. FPGA, GPU, ASICs), performing attacks on Depth Robust Graphs (the best known attacks are here)."),n.a.createElement("li",null,n.a.createElement("i",null,"Impractical attempts:")," Find special datasets that allow for faster replication, break the sequentiality assumption, generate the proof storing less data, break Pedersen hashes.")),n.a.createElement("hr",{className:"black-20 b--solid mv4"}),n.a.createElement("h2",{className:"f4 fw2 mv3 white ttu"},n.a.createElement("span",{role:"img","aria-label":"icon for play the game"},"\ud83d\udd79")," Play the Game"),n.a.createElement("p",null,"Make sure you have all required dependencies installed:"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://git-scm.com",className:"gray hover-white"},"Git")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.rust-lang.org/tools/install",className:"gray hover-white"},"rustup")),n.a.createElement("li",null,"Rust nightly (usually ",n.a.createElement("code",null,"rustup install nightly"),")"),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.postgresql.org",className:"gray hover-white"},"PostgreSQL")),n.a.createElement("li",null,"Clang and libclang"),n.a.createElement("li",null,n.a.createElement("a",{href:"https://stedolan.github.io/jq/download/",className:"gray hover-white"},"jq")," (optional) - prettify json output on the command-line, for viewing the leaderboard")),n.a.createElement("p",null,"Clone the project with git:"),n.a.createElement("pre",{className:"pa3 bg-black-30 br2 overflow-x-scroll"},"git clone https://github.com/filecoin-project/replication-game.git"),n.a.createElement("p",null,"From the replication-game/ directory, compile the game binary:"),n.a.createElement("pre",{className:"pa3 bg-black-30 br2 overflow-x-scroll"},"cargo +nightly build --release --bin replication-game"),n.a.createElement("h3",{className:"f5 fw2 mt4 mb3 white"},"Play the game from the command line"),n.a.createElement("p",null,"There are two ways to play:"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("b",null,"Method 1:")," Run the `play` helper script"),n.a.createElement("li",null,n.a.createElement("b",null,"Method 2:")," Run each individual command")),n.a.createElement("h3",{className:"f5 fw2 mt4 mb3 white"},"Method 1: Run the `play` helper script"),n.a.createElement("p",null,"From the replication-game/ directory, run the `play` helper script in `bin/`, specifying:"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("code",null,"NAME"),": your player name"),n.a.createElement("li",null,n.a.createElement("code",null,"SIZE"),": the size in KB of the data you want to replicate"),n.a.createElement("li",null,n.a.createElement("code",null,"TYPE"),": the type of algorithm you want to run (current options are `zigzag` and `drgporep`)")),n.a.createElement("pre",{className:"pa3 bg-black-30 br2 overflow-x-scroll"},"bin/play NAME SIZE TYPE"),n.a.createElement("p",null,"The ",n.a.createElement("code",null,"play")," script will retrieve the seed from the game server, replicate the data, generate a proof, and then post that proof to the game server. The script runs each of the commands in **Method 2**, but wraps them in an easy-to-use shell script."),n.a.createElement("h3",{className:"f5 fw2 mt4 mb3 white"},"Method 2: Run each individual command"),n.a.createElement("p",null,"Set your player name:"),n.a.createElement("pre",{className:"pa3 bg-black-30 br2 overflow-x-scroll"},'export REPL_GAME_ID="ReadyPlayerOne"'),n.a.createElement("p",null,"Get the seed from our server:"),n.a.createElement("pre",{className:"pa3 bg-black-30 br2 overflow-x-scroll"},"curl https://replication-game.herokuapp.com/api/seed > seed.json\nexport REPL_GAME_SEED=$(cat seed.json| jq -r '.seed')\nexport REPL_GAME_TIMESTAMP=$(cat seed.json| jq -r '.timestamp')"),n.a.createElement("p",null,"Play the game:"),n.a.createElement("pre",{className:"pa3 bg-black-30 br2 overflow-x-scroll"},"./target/release/replication-game \\\n    --prover $REPL_GAME_ID \\\n    --seed $REPL_GAME_SEED \\\n    --timestamp $REPL_GAME_TIMESTAMP \\\n    --size 1048576 \\\n    zigzag > proof.json"),n.a.createElement("p",null,"Send your proof:"),n.a.createElement("pre",{className:"pa3 bg-black-30 br2 overflow-x-scroll"},'curl -X POST -H "Content-Type: application/json" -d @./proof.json https://replication-game.herokuapp.com/api/proof'),n.a.createElement("p",null,"Finally:"),n.a.createElement("p",null,n.a.createElement("button",{onClick:a,className:"montserrat f6 fw2 gray bw0 br4 ph3 pv2 bg-white-10 hover-bg-white-30 pointer"},"Check your place on the leaderboards!")),n.a.createElement("hr",{className:"black-20 b--solid mv4"}),n.a.createElement("h2",{className:"f4 fw2 mt4 mb3 white ttu"},"FAQ"),n.a.createElement("blockquote",{className:"ml0 mt4 white"},"What parameters should I be using for the replication?"),n.a.createElement("p",null,"Our leaderboard will track the parameters you will be using, feel free to experiment with many. We are targeting powers of two, in particular: ",n.a.createElement("code",null,"1GiB")," (",n.a.createElement("code",null,"--size 1048576"),"), ",n.a.createElement("code",null,"16GiB")," (",n.a.createElement("code",null,"--size 16777216"),"), ",n.a.createElement("code",null,"1TB")," (",n.a.createElement("code",null,"--size 1073741824"),")"),n.a.createElement("blockquote",{className:"ml0 mt4 white"},"How do I know what the parameters mean?"),n.a.createElement("p",null,"Run this command to find out:"),n.a.createElement("pre",{className:"pa3 bg-black-30 br2 overflow-x-scroll"},"./target/debug/replication-game --help"),n.a.createElement("blockquote",{className:"ml0 mt4 white"},"What do I win if I am first?"),n.a.createElement("p",null,"So far, we have no bounty set up for this, but we are planning on doing so. If you beat the replication game (and you can prove it by being in the leaderboard), reach out to ",n.a.createElement("a",{href:"mailto:filecoin-research@protocol.ai",className:"gray hover-white"},"filecoin-research@protocol.ai"),".")))},p=t(2),u=t.n(p),d=t(8),h=t(9),b=t(10),f=t(23),E=t(11),g=t(24),w=t(25),v=t(12),y=t.n(v),N=t(13),k=t.n(N),x=t(14),P=t.n(x),R=t(15),T=t.n(R),M=t(16),S=t.n(M),j=t(17),z=t.n(j),C=t(18),I=t.n(C),_=t(19),B=t.n(_),A=t(20),G=t.n(A),L=t(21),O=t.n(L),D=t(22),F=t.n(D),q=k.a.partial({standard:"iec",output:"array"}),H=function(e){var a=e.name,t=e.className,r=void 0===t?"mr3 v-mid":t,l=e.size,o=void 0===l?60:l;return n.a.createElement("img",{src:"https://github.com/".concat(a,".png?size=").concat(o),className:r,style:{width:o/2,height:o/2},alt:"".concat(a," avatar"),onError:function(e){e.target.src="https://www.gravatar.com/avatar/".concat(y()(a),"?d=retro&s=").concat(o)}})},U=function(e){var a=e.time;return n.a.createElement("span",{className:"dib f5 fr bg-snow black pa2 br3 lh-solid tr courier ml3"},a.toFixed(3))},W=function(e){var a=e.name,t=e.time,r=e.medal;return n.a.createElement("div",{className:"dib w-100 v-mid"},n.a.createElement("div",{className:"flex items-center",title:"".concat(a," took ").concat(t.toFixed(3),"s to replicate 1MiB of data")},n.a.createElement(H,{name:a}),n.a.createElement("span",{className:"f4 fw5 montserrat white truncate flex-auto"},a),r?n.a.createElement(Z,{type:r}):null,n.a.createElement(U,{time:t})))},Z=function(e){var a=e.type,t={gold:P.a,goldRibbon:z.a,silver:T.a,silverRibbon:I.a,bronze:S.a,bronzeRibbon:B.a},r=["gold","silver","bronze"].includes(a)?{width:45,height:45,marginTop:-5,marginBottom:-5}:{width:45,height:84,marginTop:-19,marginBottom:-22};return n.a.createElement("img",{src:t[a],alt:a,className:"dn db-m db-l",style:r})},$=function(e){var a=e.typ,t=e.className,r=F.a;return"DrgPoRep"===a?r=G.a:"Zigzag"===a&&(r=O.a),n.a.createElement("img",{src:r,alt:"icon by Eliricon from the Noun Project",width:"45",height:"45",className:t})},V={DrgPoRep:"Depth Robust Graph Proof-of-Replication",Zigzag:"Specialized Layered Depth Robust Graph Proof-of-Replication"},J=function(e){var a=e.params;return n.a.createElement("div",{className:"pl4 pr3"},n.a.createElement("h2",{className:"flex-m flex-l items-center montserrat fw2 mv3"},n.a.createElement("div",{className:"flex-none mb3 mb0-m mb0-l",title:V[a.typ]||""},n.a.createElement($,{className:"mr2 v-mid",typ:a.typ}),n.a.createElement("span",{className:"v-mid mr3"},a.typ)),n.a.createElement("div",{className:"flex-auto tr-m tr-l"},n.a.createElement("span",{className:"dib pv2 ph3 bg-white-10 br2"},q(a.size)[0]," ",n.a.createElement("small",{className:"gray"},q(a.size)[1])))),n.a.createElement("ul",{className:"montserrat f6 fw2 list mv3 pl0"},n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"Challenges")," ",a.challenge_count),n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"VDE")," ",a.vde),n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"Degree")," ",a.degree),n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"Expansion degree")," ",a.expansion_degree),n.a.createElement("li",{className:"dib-ns mr3"},n.a.createElement("span",{className:"gray mr2"},"Layers")," ",a.layers)))},Q=function(e){var a=e.entries,t=e.onExpand,r=a.slice(0,3),l=a.slice(3);return n.a.createElement("div",{className:"mb4 pv1 ph1 br3 shadow-3",style:{backgroundColor:"#1E2135"}},n.a.createElement(J,{params:r[0].params}),n.a.createElement("div",{className:"pr4 fr",style:{marginTop:"-2.25rem"}},n.a.createElement("div",{className:"f7 f6-m f6-l mt1 montserrat fw2 gray"},"Repl time (s/MiB)")),n.a.createElement("ol",{className:"ma0 lh-copy mw7 mb3 pl3 center db gray",style:{listStyleType:"decimal"}},r.slice(0,1).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mh3 pa3 b--gold b--solid bw1 br3 br--top shadow-1",style:{backgroundColor:"rgba(255, 183, 0, 0.75)"}},n.a.createElement(W,{name:t,time:r,medal:"gold"}))}),r.slice(1,2).map(function(e){var a=e.id,t=e.prover,l=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mh3 pa3 b--silver b--solid bw1 relative shadow-1 ".concat(2===r.length?"br3 br--bottom":""),style:{backgroundColor:"rgba(153, 153, 153, 0.75)"}},n.a.createElement(W,{name:t,time:l,medal:"silver"}))}),r.slice(2,3).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mh3 pa3 b--solid bw1 br3 br--bottom shadow-1",style:{borderColor:"#cd7f32",backgroundColor:"rgba(205, 127, 50, 0.75)"}},n.a.createElement(W,{name:t,time:r,medal:"bronze"}))})),l.length?n.a.createElement("div",{className:"tc mb3"},n.a.createElement("button",{type:"button",className:"montserrat f6 fw2 gray bw0 br3 ph3 pv2 bg-black-10 hover-bg-black-30 pointer",onClick:t},"Show ",l.length," more")):null)},Y=function(e){var a=e.entries,t=e.onCollapse;return n.a.createElement("div",{className:"mb4 pv1 ph1 br3",style:{backgroundColor:"#1E2135"}},n.a.createElement(J,{params:a[0].params}),n.a.createElement("div",{className:"pr4 fr",style:{marginTop:"-2.25rem"}},n.a.createElement("div",{className:"f7 f6-m f6-l mt1 montserrat fw2 gray"},"Repl time (s/MiB)")),n.a.createElement("ol",{className:"ma0 lh-copy mw7 mb3 pl3 center db gray",style:{listStyleType:"decimal"}},a.slice(0,1).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mh3 pa3 b--gold b--solid bw1 br3 shadow-1",style:{backgroundColor:"rgba(255, 183, 0, 0.75)"}},n.a.createElement(W,{name:t,time:r,medal:"goldRibbon"}))}),a.slice(1,2).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mt4 mh3 pa3 b--silver b--solid bw1 br3 shadow-1",style:{backgroundColor:"rgba(153, 153, 153, 0.75)"}},n.a.createElement(W,{name:t,time:r,medal:"silverRibbon"}))}),a.slice(2,3).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl f4 mt4 mh3 mb4 pa3 b--solid bw1 br3 shadow-1",style:{borderColor:"#cd7f32",backgroundColor:"rgba(205, 127, 50, 0.75)"}},n.a.createElement(W,{name:t,time:r,medal:"bronzeRibbon"}))}),a.slice(3).map(function(e){var a=e.id,t=e.prover,r=e.secondsPerMBTime;e.params;return n.a.createElement("li",{key:a,className:"tl mt3 mh3 ph3 f4"},n.a.createElement(W,{name:t,time:r}))})),n.a.createElement("div",{className:"tc mb3"},n.a.createElement("button",{type:"button",className:"montserrat f6 fw2 gray bw0 br3 ph3 pv2 bg-black-10 hover-bg-black-30 pointer",onClick:t},"Minimise")))},K=function(e){var a=e.entries,t=Object(r.useState)(!1),l=Object(c.a)(t,2),o=l[0],i=l[1];return o?n.a.createElement(Y,{entries:a,onCollapse:function(){return i(!1)}}):n.a.createElement(Q,{entries:a,onExpand:function(){return i(!0)}})},X=Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_API_URL:"/api/leaderboard"}).REACT_APP_REFRESH_INTERVAL||1e4,ee=[-603530311097846e4,-0x341b4ba8b2dee200,0x7c0f5202b00c8000,0x772aef73f8820c00];var ae=function(e){function a(){var e,t;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(n)))).state={expanded:!1},t}return Object(g.a)(a,e),Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=function(){var t=Object(d.a)(u.a.mark(function t(){var r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/leaderboard");case 3:if((r=t.sent).ok){t.next=6;break}throw new Error("unexpected status ".concat(r.status));case 6:return t.t0=e,t.next=9,r.json();case 9:t.t1=t.sent,t.t2={boardData:t.t1},t.t0.setState.call(t.t0,t.t2),t.next=17;break;case 14:t.prev=14,t.t3=t.catch(0),console.error("failed to fetch leaderboard data",t.t3);case 17:return t.prev=17,e._refreshTimeoutId=setTimeout(a,X),t.finish(17);case 20:case"end":return t.stop()}},t,this,[[0,14,17,20]])}));return function(){return t.apply(this,arguments)}}();a()}},{key:"componentWillUnmount",value:function(){clearTimeout(this._refreshTimeoutId)}},{key:"render",value:function(){var e=this,a=this.state,t=a.boardData,l=a.expanded;if(!t)return n.a.createElement("div",{className:"mw7 center pb2"},n.a.createElement("p",null,"Loading..."));var o=function(e){var a=(e=e.map(function(e){return Object(w.a)({},e,{secondsPerMBTime:e.repl_time/(e.params.size/1048576)})})).reduce(function(e,a){return e[a.params.id]=(e[a.params.id]||[]).concat(a),e},{});return Object.values(a).filter(function(e){return e.length>1}).sort(function(e,a){var t=ee.indexOf(e[0].params.id),r=ee.indexOf(a[0].params.id);return t>-1&&r>-1?t-r:t>-1?-1:r>-1?1:a.length-e.length}).map(function(e){return e.sort(function(e,a){return e.secondsPerMBTime-a.secondsPerMBTime})})}(t),c=o.slice(0,ee.length),i=o.slice(ee.length);return console.log(o),n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"mw7 center pb2 cf"},n.a.createElement("h2",{className:"f4 f3-m f3-l mv3 pl4-m pl4-l tc tl-m tl-l montserrat fw2 ttu fl-m fl-l"},"Leaderboards")),n.a.createElement("div",{className:"mw7 center pb2"},c.map(function(e){return n.a.createElement(K,{key:e[0].params.id,entries:e})})),i.length?n.a.createElement("div",{className:"flex items-center mt4 mb5 ph3"},n.a.createElement("div",{className:"flex-auto"},n.a.createElement("hr",{className:"black-".concat(l?"20":"10"," b--solid")})),n.a.createElement("div",{className:"flex-none mh3"},n.a.createElement("button",{type:"button",className:"montserrat f6 fw2 gray bw0 br3 ph3 pv2 bg-black-10 hover-bg-black-30 pointer",onClick:l?function(){return e.setState({expanded:!1})}:function(){return e.setState({expanded:!0})}},l?"Hide other leaderboards":"Show all leaderboards")),n.a.createElement("div",{className:"flex-auto"},n.a.createElement("hr",{className:"black-".concat(l?"20":"10"," b--solid")}))):null,i.length&&l?n.a.createElement("div",{className:"mw7 center pb2 cf"},i.map(function(e){return n.a.createElement(K,{key:e[0].params.id,entries:e})})):null)}}]),a}(r.Component),te=function(e){var a=e.showInstructions,t=e.onShowInstructions,r=e.onShowLeaderboard;return n.a.createElement("header",{className:"bg-black-30 pb4 ph3"},n.a.createElement("div",{className:"mw7 center relative"},n.a.createElement("button",{className:"fr montserrat f6 fw2 gray bw0 br4 ph3 pv2 bg-white-10 hover-bg-white-30 pointer absolute right-0 top-1",onClick:a?r:t},a?"\u2b05 Back to leaderboards":"How to play?"),n.a.createElement("h1",{className:"ma0 pt5 pb4 fw2 f1 montserrat tc"},n.a.createElement("img",{src:m.a,alt:"fil",width:"80",className:"db dib-l center mb3 mb0-l ml0-l mr4-l v-mid"}),n.a.createElement("span",{className:"v-mid"},"Replication Game")),a?null:n.a.createElement("p",{className:"montserrat f6 fw2 gray pl4-ns lh-copy"},"The Replication Game is a competition where participants compete to out perform the default implementation of Proof-of-Replication. To participate in the game, you can run the current replication algorithm (or your own implementation) and post your proof on our server.")))},re=function(){var e=Object(r.useState)(!1),a=Object(c.a)(e,2),t=a[0],l=a[1],o=function(){return l(!1)};return n.a.createElement("div",{className:"sans-serif white"},n.a.createElement(te,{showInstructions:t,onShowInstructions:function(){return l(!0)},onShowLeaderboard:o}),n.a.createElement("main",{className:"pt4 ph3"},t?n.a.createElement(s,{onShowLeaderboard:o}):n.a.createElement(ae,null)))};o.a.render(n.a.createElement(re,null),document.getElementById("root"))}],[[26,2,1]]]);
//# sourceMappingURL=main.1be8287b.chunk.js.map